–û–±—â–∏–π —Ñ–ª–æ—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ LotoClub —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç—Ç–∞–ø–æ–≤:

# –≠—Ç–∞–ø 1 ‚Äî check_email / check_phone

–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:

—Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å

–∫–∞–∫–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π –Ω—É–∂–µ–Ω (login / register)

–≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç–∞ email/—Ç–µ–ª–µ—Ñ–æ–Ω–∞

–≤—ã–¥–∞—ë—Ç sessionId

–í–∞–∂–Ω–æ:
–í—Å–µ –Ω–µ–≥–∞—Ç–∏–≤—ã —Ñ–æ—Ä–º–∞—Ç–∞ email/phone ‚Äî –∑–¥–µ—Å—å.

# –≠—Ç–∞–ø 2 ‚Äî login_email / login_phone

–í—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Ö–æ–¥ –ø–æ:

password

sessionId

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:

token ‚Äî –µ—Å–ª–∏ –ø–∞—Ä–æ–ª—å –≤–µ—Ä–Ω—ã–π

–æ—à–∏–±–∫—É ‚Äî –µ—Å–ª–∏ –ø–∞—Ä–æ–ª—å/—Å–µ—Å—Å–∏—è –Ω–µ–≤–µ—Ä–Ω—ã–µ

–í–∞–∂–Ω–æ:
–ù–µ–≥–∞—Ç–∏–≤—ã login ‚Äî —ç—Ç–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ password –∏ sessionId.
Email –Ω–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ –ù–ï –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è –∏ –ù–ï –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è.

# –≠—Ç–∞–ø 3 ‚Äî —Ç–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ http-–∫–ª–∏–µ–Ω—Ç

–ö–æ–¥ –≤–Ω—É—Ç—Ä–∏ login_email:

if response.status_code == 200:
    self.http.token = data["token"]


–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∫–ª–∏–µ–Ω—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º.

# –≠—Ç–∞–ø 4 ‚Äî –ª—é–±–æ–π –∑–∞–ø—Ä–æ—Å –∫ –∑–∞—â–∏—â—ë–Ω–Ω—ã–º —Ä—É—á–∫–∞–º

–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

/user/me

/wallet/*

/casino/*

/game/*

–†–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ —Ç–æ—Ç –∂–µ –∫–ª–∏–µ–Ω—Ç ‚Äî —Ç–æ–∫–µ–Ω —É–∂–µ –≤ –Ω—ë–º.

# –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∫–ª–∏–µ–Ω—Ç–∞ –≤ —Ç–µ—Å—Ç–∞—Ö

–í —Ç–µ—Å—Ç–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è auth_client
–≠—Ç–æ —á–∏—Å—Ç—ã–π –∫–ª–∏–µ–Ω—Ç –±–µ–∑ —Ç–æ–∫–µ–Ω–∞.

–§–∏–∫—Å—Ç—É—Ä—ã:

–≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç email/phone

–≤—ã–∑—ã–≤–∞—é—Ç check_email

–≤—ã–∑—ã–≤–∞—é—Ç login / register

—Å–æ—Ö—Ä–∞–Ω—è—é—Ç —Ç–æ–∫–µ–Ω

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:
auth_client.http.token = <jwt>

–¢–µ—Å—Ç –ø–æ–ª—É—á–∞–µ—Ç:

–ª–∏–±–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ (auth_user_email)

–ª–∏–±–æ –Ω–æ–≤–æ–≥–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ (registered_user_email)

–ª–∏–±–æ —á–∏—Å—Ç–æ–≥–æ (auth_client)

# –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∏–∫—Å—Ç—É—Ä—ã
auth_client

–ê–Ω–æ–Ω–∏–º–Ω—ã–π –∫–ª–∏–µ–Ω—Ç –±–µ–∑ —Ç–æ–∫–µ–Ω–∞.
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è login/register.

auth_user_email / auth_user_phone

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞—Ä–∞–Ω–µ–µ.

registered_user_email / registered_user_phone

–ù–æ–≤—ã–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ ‚Äî —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ —Ä–∞–Ω—Ç–∞–π–º–µ.

session_id_email / session_id_phone

–ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ check_email/check_phone ‚Äî –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è login.

# –¢–µ—Å—Ç–æ–≤—ã–π —Ñ–ª–æ—É (–Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –ª–æ–≥–∏–Ω–∞)
üë£ 1) check_email

–ü–æ–ª—É—á–∞–µ–º sessionId

üë£ 2) login_email

–ü–æ–ª—É—á–∞–µ–º token

üë£ 3) –¢–µ—Å—Ç–∏—Ä—É–µ–º –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —Ä—É—á–∫–∏